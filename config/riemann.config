;; -*- mode: clojure; -*-
;;
;; sample configuration for Kiries


(logging/init :file "logs/kiries.log")

(tcp-server :host "0.0.0.0")
(udp-server :host "0.0.0.0")

;;(ws-server)

;; uncomment to enable Riemann's REPL server.
;;(repl-server)


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Start ES Integration
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
(require '[riemann.elastic :as elastic])

;; we must make our ES client connection first
(elastic/es-connect "http://localhost:9200")

;; Load up some index mappings that optimize for time-series data
(elastic/load-index-template "default" "config/default-mapping.json")

;; Example handler for riemann-health events
(include "riemann-health.config")
(include "tweets.config")

